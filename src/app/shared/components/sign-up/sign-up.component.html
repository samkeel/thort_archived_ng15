<section [ngClass]="{ 'handset-portait': isHandsetPortrait$ | async }">
  <mat-card [ngClass]="{ 'handset-portait': isHandsetPortrait$ | async }">
    <mat-card-header>
      <mat-card-title>Sign up</mat-card-title>
      <mat-card-subtitle>Join the dark side</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <form
        [formGroup]="signUpForm"
        class="signupform"
        [ngClass]="{ 'handset-portait': isHandsetPortrait$ | async }"
      >
        <mat-form-field color="accent">
          <input
            matInput
            type="email"
            name="email"
            placeholder="email@domain.com"
            formControlName="email"
          />
          <mat-error *ngIf="email.invalid">{{
            getEmailErrorMessage()
          }}</mat-error>
        </mat-form-field>

        <mat-form-field color="accent">
          <input
            matInput
            #pw
            type="password"
            placeholder="Password"
            formControlName="password"
          />
          <mat-error *ngIf="password.invalid">{{
            getPasswordErrorMessage()
          }}</mat-error>
        </mat-form-field>
      </form>

      <div
        *ngIf="pw.value.length < 8; else overEight"
        class="passwordLength"
        [ngClass]="{ 'handset-portait': isHandsetPortrait$ | async }"
      >
        <mat-checkbox
          class="example-margin"
          [indeterminate]="true"
          [disabled]="true"
          >Password minimum of 8 characters</mat-checkbox
        >
      </div>
      <ng-template #overEight>
        <div
          class="passwordLength"
          [ngClass]="{ 'handset-portait': isHandsetPortrait$ | async }"
        >
          <mat-checkbox
            class="example-margin"
            [checked]="true"
            [disabled]="true"
            >Minimum of 8 characters</mat-checkbox
          >
        </div>
      </ng-template>
    </mat-card-content>
    <mat-card-actions align="end">
      <button *ngIf="!isLoading"
        mat-raised-button
        color="primary"
        [disabled]="signUpForm.invalid"
        (click)="onSubmit()"
      >
        Create account
      </button>
      <mat-spinner *ngIf="isLoading"></mat-spinner>
    </mat-card-actions>
  </mat-card>
  
</section>

<div
  class="loginRoute"
  [ngClass]="{ 'handset-portait': isHandsetPortrait$ | async }"
>
  <p class="loginText" [ngClass]="{ 'handset-portait': isHandsetPortrait$ | async }">
    Already have an account? <a (click)="loginLink()">Login</a>
  </p>
</div>
